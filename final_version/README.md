# Graduated Project
## 貨幣列表
#### 真實貨幣

| 縮寫 | 貨幣 | 
| -------- | -------- | 
| AUD     | 澳洲幣     | 
| CAD     | 加拿大元   | 
| CHF     | 瑞士法郎   | 
| CNH     | 離岸人民幣 | 
| EUR     | 歐元　     | 
| GBP     | 英鎊     　| 
| HKD     | 港幣     　| 
| JPY     | 日幣   　  | 
| NOK     | 挪威克朗   | 
| NZD     | 紐西蘭元   | 
| PLN     | 波瀾茲羅提　| 
| RUB     | 盧布　     | 
| SEK     | 瑞典克朗   | 
| SGD     | 新加坡元   | 
| TRY     | 土耳其里拉　| 

#### 虛擬貨幣

| 縮寫 | 貨幣 | 
| -------- | -------- | 
| btc     | 比特幣     | 
| DASH    | 達氏幣     | 
| eth     | 乙太幣     | 
| LTC     | 萊特幣     | 
| XMR     | 門羅幣     | 

## 基本設定  
```
l = 36  
C  
bs = 4096  
epochs = 20
question = 1(only big)
question = ["big"]  
question type = ["trend","volatility"]  
無交易量  
```
* 混合6 = ["BTC","DASH","ETH","JPY","EUR","AUD"]  
* 真實10 = ["SEK","CHF","CAD","GBP","JPY","EUR","AUD","SGD","HKD","NZD"]  
* 真實6 = ["CHF","CAD","GBP","JPY","EUR","HKD"]  
* 虛擬5 = ["btc","DASH","eth","LTC","XMR"]  
* question = ["big"] :由於大小只能選一邊，一邊成立則另一邊不成立  
* epoch都是跑到overfitting前為止 (20~120不等)  
  可判斷多久acc沒下降就停止
* cycle是算一組問答有幾個 C的N取2*quetion*question_type  
> 未來可以改:bs = 1024 P l=108 加交易量

## 2D之pooling_size和kernel_size決定法
時間長度 = L  
kernel size = k  
pooling size = p  
(L-(k-1))/p 不斷重複 最後要輸出成1  
(除法為無條件捨去)  
EX:  
```
(L,k,p) = (36,9,8)  
36-(9-1)=28  
28/8=3  
3-9<0 value error  
```

```
(L,k,p) = (36,5,4)  
36-(5-1)=32  
32/4=8  
8-(5-1)=4 
4/4=1 success  
```
## test
方便看v q a三大矩陣之內容及其他內部結構  

## baseline1-1 6幣混合bs
question = 2  

total params: 23493  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.7117    | 0.7133   |
| 2017年5月   | 0.7111    | 0.6891   |
| 2017年6月   | 0.7059    | 0.6949   |
| 2017年7月   | 0.6970    | 0.6884   |
| 2017年8月   | 0.6898    | 0.6799   |

* 還可以繼續

## 1dCNN_6mix
total params: 33413  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.7141    | 0.7137   |
| 2017年5月   | 0.7131    | 0.7137   |
| 2017年6月   | 0.7134    | 0.7135   |
| 2017年7月   | 0.7140    | 0.7132   |
| 2017年8月   | 0.7135    | 0.7091   |

## 2dCNN_6mix
total params: 25379  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.7055    | 0.7097   |
| 2017年5月   | 0.7016    | 0.7119   |
| 2017年6月   | 0.7046    | 0.7084   |
| 2017年7月   | 0.7020    | 0.7114   |
| 2017年8月   | 0.7082    | 0.7056   |

## 6mix比較表
| test時間區段 | baseline acc | 1dCNN acc | 2dCNN acc |
| --------   | --------  | -------- | --------  | 
| 2017年4月   | 0.7133    | 0.7137   | 0.7097    | 
| 2017年5月   | 0.6891    | 0.7137   | 0.7119    | 
| 2017年6月   | 0.6949    | 0.7135   | 0.7084    | 
| 2017年7月   | 0.6884    | 0.7132   | 0.7114    | 
| 2017年8月   | 0.6799    | 0.7091   | 0.7056    | 
| 平均        | 0.6931    | 0.7126   | 0.7094    | 
---

## baseline1-2-0 10幣真實bs
question = 1  
l=36  

total params: 23493  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.7117    | 0.7133   |
| 2017年5月   | 0.7111    | 0.6891   |
| 2017年6月   | 0.7059    | 0.6949   |
| 2017年7月   | 0.6970    | 0.6884   |
| 2017年8月   | 0.6898    | 0.6799   |

## baseline1-2-2 10幣真實bs
question = 2  
l=36

total params: 24405  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.7580    | 0.7613   |
| 2017年5月   | 0.7589    | 0.7559   |
| 2017年6月   | 0.7570    | 0.7551   |
| 2017年7月   | 0.7573    | 0.7593   |
| 2017年8月   | 0.7567    | 0.7545   |

* 還可以繼續

## baseline1-2-1 10幣真實bs
question = 1  
l = 144

total params: 47317  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.6406    | 0.6290   |
| 2017年5月   | 0.6404    | 0.6269   |
| 2017年6月   | 0.6406    | 0.6295   |
| 2017年7月   | 0.6406    | 0.6240   |
| 2017年8月   | 0.6410    | 0.6272   |

## 1dCNN_10real
question = 1  
l = 144  

total params: 34325  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.6359    | 0.6289   |
| 2017年5月   | 0.6353    | 0.6310   |
| 2017年6月   | 0.6386    | 0.6210   |
| 2017年7月   | 0.6412    | 0.6237   |
| 2017年8月   | 0.6393    | 0.6312   |

## 1dCNN_10real_Test
question = 1
l = 36

total params: 34325  
| test時間區段 | Train acc | Test acc |   
| --------   | --------  | -------- |  
| 2017年4月   | 0.6551    | 0.6176   |  
| 2017年5月   | 0.6500    | 0.6102   |  
| 2017年6月   | 0.6529    | 0.6139   |  
| 2017年7月   | 0.6554    | 0.6189   |  
| 2017年8月   | 0.6212    | 0.6113   |  

## 2dCNN_10real
question = 1  
l = 144  

total params: 34325  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.6494    | 0.6216   |
| 2017年5月   | 0.6534    | 0.6312   |
| 2017年6月   | 0.6465    | 0.6333   |
| 2017年7月   | 0.6447    | 0.6278   |
| 2017年8月   | 0.6435    | 0.6272   |

## 10real比較表
l = 144 , q = 1
| test時間區段 | baseline acc | 1dCNN acc | 2dCNN acc |
| --------   | --------  | -------- | --------  | 
| 2017年4月   | 0.6290    | 0.6289   | 0.6216    | 
| 2017年5月   | 0.6269    | 0.6310   | 0.6312    | 
| 2017年6月   | 0.6295    | 0.6210   | 0.6333    | 
| 2017年7月   | 0.6240    | 0.6237   | 0.6278    | 
| 2017年8月   | 0.6272    | 0.6312   | 0.6272    | 
| 平均        | 0.6233    | 0.6272   | 0.6282    | 

---

**question=1**
## 2dCNN_6real
total params: 25251  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.6066    | 0.6035   |
| 2017年5月   | 0.6042    | 0.6077   |
| 2017年6月   | 0.6081    | 0.5995   |
| 2017年7月   | 0.6047    | 0.6010   |
| 2017年8月   | 0.6088    | 0.5974   |

## 1dCNN_6real-1 基本型
total params: 33413  

**乾淨版:**  
| test時間區段 | Train acc | Test acc |
| --------   | --------  | -------- |
| 2017年4月   | 0.6127    | 0.6041   |
| 2017年5月   | 0.6119    | 0.6101   |
| 2017年6月   | 0.6144    | 0.6006   |
| 2017年7月   | 0.6121    | 0.6042   | 
| 2017年8月   | 0.6138    | 0.6000   | 

**詳細版:**  
| test時間區段 | Train acc | Test acc | benchacc1 | benchacc2 | 
| --------   | --------  | -------- | --------  | -------- |
| 2017年4月   | 0.6127    | 0.6041   | 0.5359    | 0.6283   |
| 2017年5月   | 0.6119    | 0.6101   | 0.5400    | 0.6293   |
| 2017年6月   | 0.6144    | 0.6006   | 0.5426    | 0.6292   |
| 2017年7月   | 0.6121    | 0.6042   | 0.5371    | 0.6283   |
| 2017年8月   | 0.6138    | 0.6000   | 0.5425    | 0.6273   |
* 還可以繼續 跑40再確定結果

## 1dCNN_6real-2 時間長度改為144
total params: 33413  

**乾淨版:**  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- | 
| 2017年4月   | 0.6067    | 0.6038   | 
| 2017年5月   | 0.5999    | 0.6183   | 
| 2017年6月   | 0.6011    | 0.6099   | 
| 2017年7月   | 0.6148    | 0.6040   | 
| 2017年8月   | 0.6149    | 0.6096   | 

**詳細版:**  
| test時間區段 | Train acc | Test acc | benchacc1 | benchacc2 | 
| --------   | --------  | -------- | --------  | -------- |
| 2017年4月   | 0.6067    | 0.6038   | 0.5392    | 0.6281   |
| 2017年5月   | 0.5999    | 0.6183   | 0.5432    | 0.6311   |
| 2017年6月   | 0.6011    | 0.6099   | 0.5467    | 0.6284   |
| 2017年7月   | 0.6148    | 0.6040   | 0.5401    | 0.6276   |
| 2017年8月   | 0.6149    | 0.6096   | 0.5499    | 0.6276   |

## 1dCNN_6real-3 將組合C改成排列P
total params: 33413  

**乾淨版:**  
| test時間區段 | Train acc | Test acc |  
| --------   | --------  | -------- | 
| 2017年4月   | 0.6157    | 0.6041   | 
| 2017年5月   | 0.6141    | 0.6079   | 
| 2017年6月   | 0.6159    | 0.6006   | 
| 2017年7月   | 0.6155    | 0.6047   | 
| 2017年8月   | 0.6152    | 0.6000   | 

**詳細版:**  
| test時間區段 | Train acc | Test acc | benchacc1 | benchacc2 | 
| --------   | --------  | -------- | --------  | -------- |
| 2017年4月   | 0.6157    | 0.6041   | 0.5000    | 0.6303   |
| 2017年5月   | 0.6141    | 0.6079   | 0.5000    | 0.6307   |
| 2017年6月   | 0.6159    | 0.6006   | 0.5000    | 0.6301   |
| 2017年7月   | 0.6155    | 0.6047   | 0.5000    | 0.6303   |
| 2017年8月   | 0.6152    | 0.6000   | 0.5000    | 0.6300   |

## 1dCNN_6real-4 batch size改為1024
total params: 33413  

**乾淨版:**  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- | 
| 2017年4月   | 0.6653    | 0.6132   |
| 2017年5月   | 0.6659    | 0.6110   |
| 2017年6月   | 0.6631    | 0.6034   | 
| 2017年7月   | 0.6677    | 0.6058   | 
| 2017年8月   | 0.6693    | 0.6164   | 

**詳細版:**  
| test時間區段 | Train acc | Test acc | benchacc1 | benchacc2 | 
| --------   | --------  | -------- | --------  | -------- |
| 2017年4月   | 0.6653    | 0.6132   | 0.5359    | 0.6283   |
| 2017年5月   | 0.6659    | 0.6110   | 0.5400    | 0.6292   |
| 2017年6月   | 0.6631    | 0.6034   | 0.5426    | 0.6292   |
| 2017年7月   | 0.6677    | 0.6058   | 0.5371    | 0.6283   |
| 2017年8月   | 0.6693    | 0.6164   | 0.5425    | 0.6273   |

* 4月 30epochs acc仍上升 loss也在上升 ???

## 1dCNN_6real-5-1 加入交易量(並排)
total params: 34013  

**乾淨版:**  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.6115    | 0.5985   |
| 2017年5月   | 0.6079    | 0.6054   |
| 2017年6月   | 0.6074    | 0.5945   |
| 2017年7月   | 0.6100    | 0.5993   |
| 2017年8月   | 0.6109    | 0.5931   |


**詳細版:**  
| test時間區段 | Train acc | Test acc | benchacc1 | benchacc2 | 
| --------   | --------  | -------- | --------  | -------- |
| 2017年4月   | 0.6115    | 0.5985   | 0.5359    | 0.6283   |
| 2017年5月   | 0.6079    | 0.6054   | 0.5400    | 0.6293   |
| 2017年6月   | 0.6074    | 0.5945   | 0.5426    | 0.6292   |
| 2017年7月   | 0.6100    | 0.5993   | 0.5371    | 0.6283   |
| 2017年8月   | 0.6109    | 0.5931   | 0.5425    | 0.6273   |
## 1dCNN_6real-5-2 加入交易量(交叉)
total params: 34013  

**乾淨版:**  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.6086    | 0.5985   |
| 2017年5月   | 0.6044    | 0.6018   |
| 2017年6月   | 0.6072    | 0.5965   |
| 2017年7月   | 0.6101    | 0.5995   |
| 2017年8月   | 0.6089    | 0.5942   |
## 1dCNN_6real-6 question = 2 版本

total params: 33541  

**乾淨版:**  
| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.6165    | 0.6045   |
| 2017年5月   | 0.6145    | 0.6082   |
| 2017年6月   | 0.6159    | 0.6010   |
| 2017年7月   | 0.6158    | 0.6048   |
| 2017年8月   | 0.6158    | 0.6009   |

**詳細版:**  
| test時間區段 | Train acc | Test acc | benchacc1 | benchacc2 | 
| --------   | --------  | -------- | --------  | -------- |
| 2017年4月   | 0.6165    | 0.6045   | 0.5000    | 0.6283   |
| 2017年5月   | 0.6145    | 0.6082   | 0.5000    | 0.6293   |
| 2017年6月   | 0.6159    | 0.6010   | 0.5000    | 0.6291   |
| 2017年7月   | 0.6158    | 0.6048   | 0.5000    | 0.6284   |
| 2017年8月   | 0.6158    | 0.6009   | 0.5000    | 0.6272   |

## 比較表

| 　測試區段\變因　 |基本模型| 時間增長  | 貨幣排列 | bs縮小 | 交易量 |  互補問法 | 增加貨幣| 
| --------   | --------  | -------- | --------  | -------- |-------- |-------- |-------- |
| 參數量       | 33413    | 33413   | 33413    | 33413   |34013    | 33541   |34325   |
| 2017年4月   | 0.6041    | 0.6038   | 0.6041    | 0.6132   | 0.5985    | 0.6045   | 0.6176  |
| 2017年5月   | 0.6101    | 0.6183   | 0.6079    | 0.6110   | 0.6018    | 0.6082   | 0.6102  |
| 2017年6月   | 0.6006    | 0.6099   | 0.6006    | 0.6034   | 0.5965    | 0.6010   | 0.6139  |
| 2017年7月   | 0.6042    | 0.6040   | 0.6047    | 0.6058   | 0.5995    | 0.6048   | 0.6189  |
| 2017年8月   | 0.6000    | 0.6096   | 0.6000    | 0.6164   | 0.5942    | 0.6009   | 0.6113  |
| 平均   | 0.6038    | 0.6091   | 0.6035    | 0.6100   | 0.5981    | 0.6039   |0.6144   |

---



## baseline1-3 5幣虛擬bs
total params: 23137  

| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.6667    | 0.6601   |
| 2017年5月   | 0.6693    | 0.6545   |
| 2017年6月   | 0.6648    | 0.6634   |
| 2017年7月   | 0.6661    | 0.6596   |
| 2017年8月   | 0.6648    | 0.6589   |
* 超快overfitting 大概第八epoch上下

## 1dCNN_5vir
total params: 23137  

| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.6672    | 0.6499   |
| 2017年5月   | 0.6670    | 0.6432   |
| 2017年6月   | 0.6647    | 0.6649   |
| 2017年7月   | 0.6676    | 0.6453   |
| 2017年8月   | 0.6676    | 0.6620   |
* 超快overfitting 比bs1-3更快　　

## 2dCNN_5vir
total params: 24995  

| test時間區段 | Train acc | Test acc | 
| --------   | --------  | -------- |
| 2017年4月   | 0.6607    | 0.6479   |
| 2017年5月   | 0.6624    | 0.6282   |
| 2017年6月   | 0.6605    | 0.6578   |
| 2017年7月   | 0.6621    | 0.6484   |
| 2017年8月   | 0.6621    | 0.6418   |

## 5vir 比較表

| test時間區段 | baseline acc | 1dCNN acc | 2dCNN acc |
| --------   | --------  | -------- | --------  | 
| 2017年4月   | 0.6601    | 0.6499   | 0.6479    | 
| 2017年5月   | 0.6545    | 0.6432   | 0.6282    | 
| 2017年6月   | 0.6634    | 0.6649   | 0.6578    | 
| 2017年7月   | 0.6596    | 0.6453   | 0.6484    | 
| 2017年8月   | 0.6589    | 0.6620   | 0.6418    | 
| 平均        | 0.6593    | 0.6531   | 0.6448    | 

## baseline4-1 研究增加對立問題之影響 q=2

total params : 46533  
